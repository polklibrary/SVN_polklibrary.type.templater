<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="plone"
	  lang="en">
<body>


	<metal:block fill-slot="javascript_head_slot">
        <!--<script type="text/javascript" src="${context/absolute_url}/++plone++static/components/ace-builds/src/ace.js"></script>
        -->
        
        <script type="text/javascript">
            $(document).ready(function(){
            
                // CSS
              //  var editor_css = ace.edit("form.widgets.css");
               // var textarea = $('textarea[name="form.widgets.css"]').hide();
               // editor_css.setTheme("ace/theme/chrome");
               // editor_css.getSession().setMode("ace/mode/html");
               //// editor_css.getSession().setValue(textarea.val());
               // editor_css.getSession().on('change', function(){
                //    textarea.val(editor_css.getSession().getValue());
                //});
                
                // JS
                //var editor_js = ace.edit("form.widgets.js");
               // var textarea = $('textarea[name="form.widgets.js"]').hide();
               // editor_js.setTheme("ace/theme/chrome");
               // editor_js.getSession().setMode("ace/mode/html");
                //editor_js.getSession().setValue(textarea.val());
                //editor_js.getSession().on('change', function(){
                //    textarea.val(editor_js.getSession().getValue());
                //});
                
                // HTML
                //var editor_html = ace.edit("form.widgets.html");
                //var textarea = $('textarea[name="form.widgets.html"]').hide();
                //editor_html.setTheme("ace/theme/chrome");
                //editor_html.getSession().setMode("ace/mode/html");
                //editor_html.getSession().setValue(textarea.val());
                //editor_html.getSession().on('change', function(){
                //    textarea.val(editor_html.getSession().getValue());
                //});
            });
        </script>
        
	</metal:block>
    
	<metal:block fill-slot="style_slot">
        <style>
            .ace_editor {
                border: 1px solid #777777;
                height: 400px;
                max-width: 1000px;
            }
        </style>
	</metal:block>

	<metal:content fill-slot="content-core">
    
        <form id="form" enctype="multipart/form-data" method="post" action="${context/absolute_url}/@@edit" class="rowlike enableUnloadProtection   kssattr-formname-edit" data-pat-autotoc="levels: legend; section: fieldset; className: autotabs">
            <!-- Default fieldset -->
            <div id="formfield-form-widgets-title" data-fieldname="form.widgets.title" class="field pat-inlinevalidation kssattr-fieldname-form.widgets.title" data-pat-inlinevalidation="{&quot;type&quot;:&quot;z3c.form&quot;}">
                <label class="horizontal" for="form-widgets-title">
                Title
                <span title="Required" class="required horizontal">&nbsp;</span>
                </label>
                <div class="fieldErrorBox"></div>
                <input type="text" value="${context/Title}" class="text-widget required textline-field" name="form.widgets.title" id="form-widgets-title">
            </div>
            
            <div id="formfield-form-widgets-description" data-fieldname="form.widgets.description" class="field pat-inlinevalidation kssattr-fieldname-form.widgets.description empty" data-pat-inlinevalidation="{&quot;type&quot;:&quot;z3c.form&quot;}">
                <label class="horizontal" for="form-widgets-description">
                Description
                </label>
                <div class="fieldErrorBox"></div>
                <textarea class="textarea-widget text-field" name="form.widgets.description" id="form-widgets-description">${context/Description}</textarea>
            </div>
            
            <div id="formfield-form-widgets-js" data-fieldname="form.widgets.js" class="field pat-inlinevalidation kssattr-fieldname-form.widgets.js empty" data-pat-inlinevalidation="{&quot;type&quot;:&quot;z3c.form&quot;}">
                <label class="horizontal" for="form-widgets-js">
                Javascript
                <span class="formHelp">You must include the &lt;script&gt; elements</span>
                </label>
                <div class="fieldErrorBox"></div>
                <textarea class="textarea-widget text-field" name="form.widgets.js" id="form-widgets-js">${context/js}</textarea>
            </div>
            <div id="form.widgets.js"/>
            
            <div id="formfield-form-widgets-css" data-fieldname="form.widgets.css" class="field pat-inlinevalidation kssattr-fieldname-form.widgets.css" data-pat-inlinevalidation="{&quot;type&quot;:&quot;z3c.form&quot;}">
                <label class="horizontal" for="form-widgets-css">
                CSS
                <span class="formHelp">You must include the &lt;style&gt; elements</span>
                </label>
                <div class="fieldErrorBox"></div>
                <textarea class="textarea-widget text-field" name="form.widgets.css" id="form-widgets-css">${context/css}</textarea>
            </div>
            <div id="form.widgets.css"/>
            
            <div id="formfield-form-widgets-html" data-fieldname="form.widgets.html" class="field pat-inlinevalidation kssattr-fieldname-form.widgets.html" data-pat-inlinevalidation="{&quot;type&quot;:&quot;z3c.form&quot;}">
                <label class="horizontal" for="form-widgets-html">
                HTML
                </label>
                <div class="fieldErrorBox"></div>
                <textarea class="ace_text-input" name="form.widgets.html" id="form-widgets-html">${context/html}</textarea>
            </div>
            <div id="form.widgets.html"/>
            
            <div id="formfield-form-widgets-suppress_title" data-fieldname="form.widgets.suppress_title" class="field pat-inlinevalidation kssattr-fieldname-form.widgets.suppress_title" data-pat-inlinevalidation="{&quot;type&quot;:&quot;z3c.form&quot;}">
                <span id="form-widgets-suppress_title" class="option">
                <input type="checkbox" tal:attributes="checked python: context.suppress_title"  value="selected" class="single-checkbox-widget bool-field" name="form.widgets.suppress_title:list" id="form-widgets-suppress_title-0">
                <label for="form-widgets-suppress_title-0">
                <span class="label">Suppress Title</span>
                </label>
                </span>
                <input type="hidden" value="1" name="form.widgets.suppress_title-empty-marker" >
                <div class="fieldErrorBox"></div>
            </div>
            
            <div id="formfield-form-widgets-suppress_description" data-fieldname="form.widgets.suppress_description" class="field pat-inlinevalidation kssattr-fieldname-form.widgets.suppress_description" data-pat-inlinevalidation="{&quot;type&quot;:&quot;z3c.form&quot;}">
                <span id="form-widgets-suppress_description" class="option">
                <input type="checkbox" tal:attributes="checked python: context.suppress_description" value="selected" class="single-checkbox-widget bool-field" name="form.widgets.suppress_description:list" id="form-widgets-suppress_description-0">
                <label for="form-widgets-suppress_description-0">
                <span class="label">Suppress Description</span>
                </label>
                </span>
                <input type="hidden" value="1" name="form.widgets.suppress_description-empty-marker" >
                <div class="fieldErrorBox"></div>
            </div>
            
            <div id="formfield-form-widgets-exclude_from_nav" data-fieldname="form.widgets.exclude_from_nav" class="field pat-inlinevalidation kssattr-fieldname-form.widgets.exclude_from_nav" data-pat-inlinevalidation="{&quot;type&quot;:&quot;z3c.form&quot;}">
                <span id="form-widgets-exclude_from_nav" class="option">
                <input type="checkbox" tal:attributes="checked python: context.exclude_from_nav" value="selected" class="single-checkbox-widget bool-field" name="form.widgets.exclude_from_nav:list" id="form-widgets-exclude_from_nav-0">
                <label for="form-widgets-exclude_from_nav-0">
                <span class="label">Exclude from nav</span>
                </label>
                </span>
                <input type="hidden" value="1" name="form.widgets.exclude_from_nav-empty-marker">
                <div class="fieldErrorBox"></div>
            </div>
            
            <!-- Secondary fieldsets -->
            <div class="formControls">
                <input type="submit" value="Save" class="submit-widget button-field context" name="form.buttons.save" id="form-buttons-save">
                <input type="submit" value="Cancel" class="submit-widget button-field standalone" name="form.buttons.cancel" id="form-buttons-cancel">
            </div>
        </form>


    
    
	</metal:content>

</body>
</html>